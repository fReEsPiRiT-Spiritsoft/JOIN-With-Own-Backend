<div class="signup-container">
    <div class="signup-card">
        <button type="button" class="back-btn" (click)="goBackToLogin()">
            <img src="assets/responsive-back-button.png" alt="Back" class="back-icon" />
        </button>

        <h1>Sign up</h1>
        <div class="underline"></div>

        <form class="signup-form">
            <div class="input-group" [class.has-error]="nameError">
                <input type="text" [(ngModel)]="name" name="name" placeholder="Name" class="form-input"
                    [attr.data-error]="nameError" (input)="onNameInput()" />
                <img src="assets/person-icon.png" alt="Name" class="input-icon" />
                <div class="error-text">{{ nameError || '' }}</div>
            </div>

            <div class="input-group" [class.has-error]="emailError">
                <input type="email" [(ngModel)]="email" name="email" placeholder="Email" class="form-input"
                    [attr.data-error]="emailError" (input)="onEmailInput()" />
                <img src="assets/signup/mail-signup.png" alt="Email" class="input-icon" />
                <div class="error-text">{{ emailError || '' }}</div>
            </div>

            <div class="input-group" [class.has-error]="passwordError">
                <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" name="password"
                    placeholder="Password" class="form-input" [attr.data-error]="passwordError"
                    (input)="onPasswordInput()" />
                <img [src]="passwordIconSrc" alt="Password" class="input-icon input-icon-clickable"
                    (mouseenter)="onPasswordIconHover(true)" (mouseleave)="onPasswordIconHover(false)"
                    (click)="togglePasswordVisibility()" />
                <div class="error-text">{{ passwordError || '' }}</div>
            </div>

            <div class="input-group" [class.has-error]="confirmPasswordError">
                <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword"
                    name="confirmPassword" placeholder="Confirm Password" class="form-input"
                    [attr.data-error]="confirmPasswordError" (input)="onConfirmPasswordInput()" />
                <img [src]="confirmPasswordIconSrc" alt="Confirm Password" class="input-icon input-icon-clickable"
                    (mouseenter)="onConfirmPasswordIconHover(true)" (mouseleave)="onConfirmPasswordIconHover(false)"
                    (click)="toggleConfirmPasswordVisibility()" />
                <div class="error-text">{{ confirmPasswordError || '' }}</div>
            </div>

            <div class="checkbox-group" [class.has-error]="privacyPolicyError">
                <label class="checkbox-label" (mouseenter)="onCheckboxHover(true)"
                    (mouseleave)="onCheckboxHover(false)">
                    <input type="checkbox" [(ngModel)]="acceptPrivacyPolicy" name="acceptPrivacyPolicy"
                        (change)="onCheckboxChange()" class="checkbox-input" />
                    <span class="checkbox-custom">
                        <img [src]="checkboxImageSrc" alt="Checkbox" class="checkbox-icon" />
                    </span>
                    <span class="checkbox-text">
                        I accept the <a routerLink="/privacy-policy" class="privacy-link">Privacy policy</a>
                    </span>
                </label>
                <div class="error-text">{{ privacyPolicyError || '' }}</div>
            </div>


            <button type="button" class="btn-primary" (click)="onSignUp()" [disabled]="isLoading">
                <span *ngIf="!isLoading">Sign up</span>
                <span *ngIf="isLoading">Loading...</span>
            </button>
        </form>
    </div>
    @if (showSuccessMessage) {
    <div class="success-overlay">
        <div class="success-message">
            You Signed Up successfully
        </div>
    </div>
    }
</div>