<div class="signup-container">
    <!-- Sign Up Card -->
    <div class="signup-card">
        <!-- Back Button -->
        <button type="button" class="back-btn" (click)="goBackToLogin()">
            <img src="assets/responsive-back-button.png" alt="Back" class="back-icon" />
        </button>

        <h1>Sign up</h1>
        <div class="underline"></div>

        <form class="signup-form">
            <!-- Name Input -->
            <div class="input-group" [class.has-error]="fieldErrors['name']">
                <input type="text" [(ngModel)]="name" name="name" placeholder="Name" class="form-input"
                    [attr.data-error]="fieldErrors['name']" />
                <img src="assets/person-icon.png" alt="Name" class="input-icon" />
                <div class="error-text">{{ fieldErrors['name'] || '' }}</div>
            </div>

            <!-- Email Input -->
            <div class="input-group" [class.has-error]="fieldErrors['email']">
                <input type="email" [(ngModel)]="email" name="email" placeholder="Email" class="form-input"
                    [attr.data-error]="fieldErrors['email']" />
                <img src="assets/signup/mail-signup.png" alt="Email" class="input-icon" />
                <div class="error-text">{{ fieldErrors['email'] || '' }}</div>
            </div>

            <!-- Password Input -->
            <div class="input-group" [class.has-error]="fieldErrors['password']">
                <input [type]="showPassword ? 'text' : 'password'" [(ngModel)]="password" name="password"
                    placeholder="Password" class="form-input" [attr.data-error]="fieldErrors['password']" />
                <img [src]="passwordIconSrc" alt="Password" class="input-icon input-icon-clickable"
                    (mouseenter)="onPasswordIconHover(true)" (mouseleave)="onPasswordIconHover(false)"
                    (click)="togglePasswordVisibility()" />
                <div class="error-text">{{ fieldErrors['password'] || '' }}</div>
            </div>

            <!-- Confirm Password Input -->
            <div class="input-group" [class.has-error]="fieldErrors['confirmPassword']">
                <input [type]="showConfirmPassword ? 'text' : 'password'" [(ngModel)]="confirmPassword"
                    name="confirmPassword" placeholder="Confirm Password" class="form-input"
                    [attr.data-error]="fieldErrors['confirmPassword']" />
                <img [src]="confirmPasswordIconSrc" alt="Confirm Password" class="input-icon input-icon-clickable"
                    (mouseenter)="onConfirmPasswordIconHover(true)" (mouseleave)="onConfirmPasswordIconHover(false)"
                    (click)="toggleConfirmPasswordVisibility()" />
                <div class="error-text">{{ fieldErrors['confirmPassword'] || '' }}</div>
            </div>

            <!-- Privacy Policy Checkbox -->
            <div class="checkbox-group">
                <label class="checkbox-label" (mouseenter)="onCheckboxHover(true)"
                    (mouseleave)="onCheckboxHover(false)">
                    <input type="checkbox" [(ngModel)]="acceptPrivacyPolicy" name="acceptPrivacyPolicy"
                        (change)="onCheckboxChange()" class="checkbox-input" />
                    <span class="checkbox-custom">
                        <img [src]="checkboxImageSrc" alt="Checkbox" class="checkbox-icon" />
                    </span>
                    <span class="checkbox-text">
                        I accept the <a routerLink="/privacy-policy" class="privacy-link">Privacy policy</a>
                    </span>
                </label>
            </div>

            <div class="error-message" [class.visible]="errorMessage">
                {{ errorMessage }}
            </div>


            <!-- Sign Up Button -->
            <button type="button" class="btn-primary" (click)="onSignUp()" [disabled]="isLoading">
                <span *ngIf="!isLoading">Sign up</span>
                <span *ngIf="isLoading">Loading...</span>
            </button>
        </form>
    </div>
    @if (showSuccessMessage) {
    <div class="success-overlay">
        <div class="success-message">
            You Signed Up successfully
        </div>
    </div>
    }
</div>