@if (showModal && task) {
<div class="modal-overlay" (click)="onOverlayClick()">
  <div class="modal-container" (click)="onModalClick($event)">
    <!-- Close Button Header -->
    <app-edit-task-modal-header (closeClick)="onClose()">
    </app-edit-task-modal-header>

    <!-- Scrollable Content Container -->
    <app-edit-task-modal-content>
      <!-- Basic Form Fields -->
      <app-edit-task-form-fields [(title)]="title" [(description)]="description" [(dueDate)]="dueDate"
        [(titleError)]="titleError" [(dueDateError)]="dueDateError">
      </app-edit-task-form-fields>

      <!-- Priority Selector -->
      <app-priority-selector [(priority)]="priority">
      </app-priority-selector>

      <!-- Contact Assignment -->
      <app-contact-assignment-dropdown [contacts]="contacts" [(selectedContactIds)]="selectedContactIds">
      </app-contact-assignment-dropdown>

      <!-- Subtasks -->
      <app-subtask-manager [(subtasks)]="subtasks">
      </app-subtask-manager>
    </app-edit-task-modal-content>

    <!-- Submit Button Footer -->
    <app-edit-task-modal-footer (submitClick)="onSubmit()">
    </app-edit-task-modal-footer>
  </div>
</div>
}